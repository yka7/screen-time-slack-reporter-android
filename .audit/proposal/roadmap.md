# 改善ロードマップ

> Generated by Repo Genesis Auditor v2.0
> Run ID: audit-run-001
> Date: 2025-01-31

## 概要

| メトリクス | 現状 | 目標 |
|-----------|------|------|
| テストカバレッジ | 部分的（2ファイル存在、JaCoCo未設定） | >= 70% |
| Lintエラー | 未確認 | 0件 |
| CI/CD | なし | GitHub Actions |
| ドキュメント完成度 | 80% | 100% |

---

## Phase 1: 品質基盤構築（Priority: Critical）

**期間**: 1-2週間
**対象ギャップ**: GAP-001, GAP-002

### 1.1 ユニットテスト追加 (PR-001)

**目的**: コア機能のテストカバレッジを確保

**対象クラス**:
- [ ] `UsageStatsDataSource` - 利用時間取得ロジック
- [ ] `SlackMessageBuilder` - メッセージ生成ロジック
- [ ] `SlackWebhookValidator` - URL検証ロジック
- [ ] `SendDailyReportUseCase` - 日次レポート送信ロジック
- [ ] `GetTodayUsageUseCase` - 当日利用情報取得
- [ ] `HomeViewModel` - ホーム画面ViewModel
- [ ] `SettingsViewModel` - 設定画面ViewModel

**必要な依存関係追加**:
```kotlin
// app/build.gradle.kts
testImplementation("junit:junit:4.13.2")
testImplementation("org.mockito.kotlin:mockito-kotlin:5.2.1")
testImplementation("org.jetbrains.kotlinx:kotlinx-coroutines-test:1.8.0")
testImplementation("app.cash.turbine:turbine:1.0.0")
```

**検証基準**: `./gradlew test` が成功、カバレッジ >= 70%

### 1.2 コア機能検証スクリプト (PR-002)

**目的**: リポジトリの存在意義を自動検証

**検証対象**:
- [ ] CF-001: 利用時間取得
- [ ] CF-002: Slack送信
- [ ] CF-003: 定時実行
- [ ] CF-004: 除外設定
- [ ] CF-005: 手動送信

---

## Phase 2: 自動化（Priority: High）

**期間**: 1週間
**対象ギャップ**: GAP-004, GAP-005

### 2.1 GitHub Actions CI/CD (PR-004)

**目的**: プルリクエスト時の自動検証

**ワークフロー**:
1. **ビルドチェック**: `./gradlew assembleDebug`
2. **Lint実行**: `./gradlew lint`
3. **テスト実行**: `./gradlew test`
4. **カバレッジレポート**: JaCoCo統合

**設定ファイル**: `.github/workflows/android-ci.yml`

---

## Phase 3: ドキュメント・仕上げ（Priority: Medium）

**期間**: 数日
**対象ギャップ**: GAP-003, GAP-006

### 3.1 スクリーンショット追加 (PR-003)

**対象画面**:
- [ ] ホーム画面（利用状況表示）
- [ ] 設定画面（Webhook URL入力）
- [ ] 除外アプリ選択画面

### 3.2 リリースビルド最適化 (PR-005)

**変更内容**:
- `isMinifyEnabled = true`
- ProGuardルール調整
- APKサイズ最適化

---

## Phase 4: オプション改善（Priority: Low）

**期間**: 必要に応じて
**対象ギャップ**: GAP-007, GAP-008

### 4.1 セキュリティ強化（検討）

- EncryptedSharedPreferences への移行検討
- 現状のDataStoreでも十分な可能性あり

### 4.2 CONTRIBUTING.md

- 個人利用想定なら不要
- OSS公開時に追加

---

## 実行優先順位

| 順位 | PR | 内容 | 重要度 | 工数 |
|------|-----|------|-------|------|
| 1 | PR-001 | ユニットテスト追加 | Critical | High |
| 2 | PR-002 | コア機能検証スクリプト | Critical | Medium |
| 3 | PR-004 | GitHub Actions CI/CD | High | Medium |
| 4 | PR-003 | スクリーンショット追加 | High | Low |
| 5 | PR-005 | リリースビルド最適化 | Medium | Medium |

---

## 成功基準

- [ ] テストカバレッジ >= 70%
- [ ] Lintエラー 0件
- [ ] CI/CDパイプライン稼働
- [ ] README完成（スクリーンショット含む）
- [ ] リリースビルドが最適化されている
